# 도둑질 후기

최근 알고리즘 문제들을 연습하면서 개인적으로 동적프로그래밍 풀이가 약하다고 생각되서 과감히 level4의 동적프로그래밍 문제를 도전...



결과적으로는 도저히 방법이 생각나지 않아서

1. 동적프로그래밍에 대한 검색 -> 문제 적용 실패
2. 다른이의 코드 확인 -> 분석 하면서 어떻게 동적프로그래밍을 사용하였는지 파악 -> 스스로 코드작성

의 두 단계의 과정을 진행했다.

다행히도 python으로 풀이하신 분이 한분 계셔서 보다 쉽게 코드분석이 가능했다.

다른 사람의 코드를 분석하고 코드를 짜니.. 거의(? 완전히..) 동일한 코드가 되어버렸지만, 그래도 중간중간 참고한 것이 아니고 쭉 스스로 구현했다는 점에 1차적으로 만족한다...

동적 프로그래밍에 대한 개념은 있지만 실제로 이걸 문제에 적용시키는건 아직 턱없이 부족한 듯 싶다.



오늘 배운점은,

(일단 어떤 문제를 동적 프로그래밍으로 풀어야하는지도 알아야겠지만 이건 좀더 많은 문제들을 풀어보면서 익히도록 하자..) 동적 프로그래밍 문제에서 전체적인 부분을 보는 것이 아니라, 실제로 답을 도출하기위해 어떤 부분을 동적으로 계획해야 하는지, 그리고 그러한 계획에 앞서서 문제에 숨어있는 규칙은 무엇인지를 파악해야 한다는 점이다.



실제로 도둑질 문제에서는,

먼저 기준집을 3개잡아야 했다. 즉 n개의 집이 있을때 기준집 h_0, h_1, h_2 세개를 잡으면, 

##### max(h_0 + max( h_2 ~ h_n-2에서의 가능 조합 ) )

##### max(h_1 + max( h_3 ~ h_n-1에서의 가능 조합 ) )

##### max(h_2 + max( h_4 ~ h_0에서의 가능 조합 ) )

셋 중의 최대 값을 구하면 된다.

실제 풀이에서는 기준집이외의 집들에 대한 리스트를 쉽게 구성하기 위해서 인덱스를 약간 수정하였지만 전혀 상관이 없다.

그리고 실제로 동적 계획법이 사용되는 것은, 기준집을 제외한 나머지 집들에서의 가능한 털이 조합(?)의 최대값을 구하는 과정에서 이다.

max(h_0 + max( h_2 ~ h_n-2에서의 가능 조합 ) ) 에서만 간단히 생각해보자.

설명을 위해, h_2 ~ h_n-2의 리스트를 w_0 ~ w_n-4 라고 하겠다.

이제 w_0 ~ w_n-4의 리스트에 대해서 하나씩 꺼내보며 생각할텐데, 사전 예외 조건으로 해당 리스트의 size가 0 또는 1 또는 2 일때는 그 중 가장 큰 요소 하나만 꺼내면 된다.

그리고 size가 3 일때는, w_0, w_1, w_2 이렇게 존재하는 경우인데, 이때는 w_0 + w_2 또는 w_1 둘 중 큰 값을 꺼내면 된다.

그리고 size가 4이상일때 실제로 동적 계획법을 적용시킨다.

각각의 조합 계산 값을 넣을 리스트 cal 을 만들었다고 가정하면, 먼저 cal에 리스트 인덱스 0과 1에 대해서 w_0값과 w_1을 넣는다. 그리고 인덱스 2에 대해서는 w_0값과 w_2의 값을 더해서 넣어주는것이 항상큰데, 이 w_0는 cal 리스트의 현재 인덱스 - 2 번째에 존재한다. 즉, cal[현재 인덱스(=2) - 2]에 있다는 것이다. 이후 인덱스 3부터는 (현재 인덱스(=3)의 값 + cal[현재 인덱스(=3) - 2]) 또는 (현재 인덱스(=3)의 값 + cal[현재 인덱스(=3) - 3]) 중 더 큰 것을 넣어주면 된다.

인덱스가 3일때 위의 식을 생각해보면, cal 리스트에 새로 들어가게 되는 것은, (인덱스3의 값 + cal[1]=인덱스1의 값) 또는 (인덱스3의 값 + cal[0]=인덱스0의 값) 중 큰 값이 들어가게 되는 셈이다.

이후 인덱스가 4일때도 위와 같이 생각하면 우리가 새롭게 만든 털이 조합 리스트에서 최대값을 cal[-1] 또는 cal[-2] 둘 중 하나이다.



내가 설명을 적으면서도..사실 이설명을 다른사람이 보고 쉽게 이해할 것이라고는 생각이 들지 않는다.

:'(



처음 접하시는 분들이 혹시 이글을 보시게 된다면, 꼭 그림을 그려가면서 알고리즘을 생각해 보시길 권장한다. 개인적으로 제일 와닿는? 경우는 집의 개수가 총 8개 이었을때 이니 해당 경우를 예시로 생각해서 고려해보아도 이해하기엔 좋다고 생각한다.